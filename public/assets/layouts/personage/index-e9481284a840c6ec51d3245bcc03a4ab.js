/*!
 * Modernizr v2.0.6
 * http://www.modernizr.com
 *
 * Copyright (c) 2009-2011 Faruk Ates, Paul Irish, Alex Sexton
 * Dual-licensed under the BSD or MIT licenses: www.modernizr.com/license/
 */
/*
 * Modernizr tests which native CSS3 and HTML5 features are available in
 * the current UA and makes the results available to you in two ways:
 * as properties on a global Modernizr object, and as classes on the
 * <html> element. This information allows you to progressively enhance
 * your pages with a granular level of control over the experience.
 *
 * Modernizr has an optional (not included) conditional resource loader
 * called Modernizr.load(), based on Yepnope.js (yepnopejs.com).
 * To get a build that includes Modernizr.load(), as well as choosing
 * which tests to include, go to www.modernizr.com/download/
 *
 * Authors        Faruk Ates, Paul Irish, Alex Sexton, 
 * Contributors   Ryan Seddon, Ben Alman
 */
window.Modernizr=function(e,t,n){function k(e){l.cssText=e}function L(e,t){return k(d.join(e+";")+(t||""))}function A(e,t){return typeof e===t}function O(e,t){return!!~(""+e).indexOf(t)}function M(e,t){for(var r in e)if(l[e[r]]!==n)return t=="pfx"?e[r]:!0;return!1}function _(e,t){var n=e.charAt(0).toUpperCase()+e.substr(1),r=(e+" "+v.join(n+" ")+n).split(" ");return M(r,t)}function P(){i.input=function(e){for(var t=0,n=e.length;t<n;t++)b[e[t]]=e[t]in c;return b}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++)c.setAttribute("type",s=e[r]),i=c.type!=="text",i&&(c.value=h,c.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&c.style.WebkitAppearance!==n?(o.appendChild(c),u=t.defaultView,i=u.getComputedStyle&&u.getComputedStyle(c,null).WebkitAppearance!=="textfield"&&c.offsetHeight!==0,o.removeChild(c)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=c.checkValidity&&c.checkValidity()===!1:/^color$/.test(s)?(o.appendChild(c),o.offsetWidth,i=c.value!=h,o.removeChild(c)):i=c.value!=h)),y[e[r]]=!!i;return y}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.0.6",i={},s=!0,o=t.documentElement,u=t.head||t.getElementsByTagName("head")[0],a="modernizr",f=t.createElement(a),l=f.style,c=t.createElement("input"),h=":)",p=Object.prototype.toString,d=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),v="Webkit Moz O ms Khtml".split(" "),m={svg:"http://www.w3.org/2000/svg"},g={},y={},b={},w=[],E,S=function(e,n,r,i){var s,u,f,l=t.createElement("div");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:a+(r+1),l.appendChild(f);return s=["&shy;","<style>",e,"</style>"].join(""),l.id=a,l.innerHTML+=s,o.appendChild(l),u=n(l,e),l.parentNode.removeChild(l),!!u},x=function(t){if(e.matchMedia)return matchMedia(t).matches;var n;return S("@media "+t+" { #"+a+" { position: absolute; } }",function(t){n=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"}),n},T=function(){function r(r,i){i=i||t.createElement(e[r]||"div"),r="on"+r;var s=r in i;return s||(i.setAttribute||(i=t.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(r,""),s=A(i[r],"function"),A(i[r],n)||(i[r]=n),i.removeAttribute(r))),i=null,s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),N={}.hasOwnProperty,C;!A(N,n)&&!A(N.call,n)?C=function(e,t){return N.call(e,t)}:C=function(e,t){return t in e&&A(e.constructor.prototype[t],n)};var D=function(n,r){var s=n.join(""),o=r.length;S(s,function(n,r){var s=t.styleSheets[t.styleSheets.length-1],u=s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"",a=n.childNodes,f={};while(o--)f[a[o].id]=a[o];i.touch="ontouchstart"in e||f.touch.offsetTop===9,i.csstransforms3d=f.csstransforms3d.offsetLeft===9,i.generatedcontent=f.generatedcontent.offsetHeight>=1,i.fontface=/src/i.test(u)&&u.indexOf(r.split(" ")[0])===0},o,r)}(['@font-face {font-family:"font";src:url("https://")}',["@media (",d.join("touch-enabled),("),a,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",d.join("transform-3d),("),a,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',h,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);g.flexbox=function(){function e(e,t,n,r){t+=":",e.style.cssText=(t+d.join(n+";"+t)).slice(0,-t.length)+(r||"")}function n(e,t,n,r){e.style.cssText=d.join(t+":"+n+";")+(r||"")}var r=t.createElement("div"),i=t.createElement("div");e(r,"display","box","width:42px;padding:0;"),n(i,"box-flex","1","width:10px;"),r.appendChild(i),o.appendChild(r);var s=i.offsetWidth===42;return r.removeChild(i),o.removeChild(r),s},g.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},g.canvastext=function(){return!!i.canvas&&!!A(t.createElement("canvas").getContext("2d").fillText,"function")},g.webgl=function(){return!!e.WebGLRenderingContext},g.touch=function(){return i.touch},g.geolocation=function(){return!!navigator.geolocation},g.postmessage=function(){return!!e.postMessage},g.websqldatabase=function(){var t=!!e.openDatabase;return t},g.indexedDB=function(){for(var t=-1,n=v.length;++t<n;)if(e[v[t].toLowerCase()+"IndexedDB"])return!0;return!!e.indexedDB},g.hashchange=function(){return T("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},g.history=function(){return!!e.history&&!!history.pushState},g.draganddrop=function(){return T("dragstart")&&T("drop")},g.websockets=function(){for(var t=-1,n=v.length;++t<n;)if(e[v[t]+"WebSocket"])return!0;return"WebSocket"in e},g.rgba=function(){return k("background-color:rgba(150,255,150,.5)"),O(l.backgroundColor,"rgba")},g.hsla=function(){return k("background-color:hsla(120,40%,100%,.5)"),O(l.backgroundColor,"rgba")||O(l.backgroundColor,"hsla")},g.multiplebgs=function(){return k("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(l.background)},g.backgroundsize=function(){return _("backgroundSize")},g.borderimage=function(){return _("borderImage")},g.borderradius=function(){return _("borderRadius")},g.boxshadow=function(){return _("boxShadow")},g.textshadow=function(){return t.createElement("div").style.textShadow===""},g.opacity=function(){return L("opacity:.55"),/^0.55$/.test(l.opacity)},g.cssanimations=function(){return _("animationName")},g.csscolumns=function(){return _("columnCount")},g.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return k((e+d.join(t+e)+d.join(n+e)).slice(0,-e.length)),O(l.backgroundImage,"gradient")},g.cssreflections=function(){return _("boxReflect")},g.csstransforms=function(){return!!M(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},g.csstransforms3d=function(){var e=!!M(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return e&&"webkitPerspective"in o.style&&(e=i.csstransforms3d),e},g.csstransitions=function(){return _("transitionProperty")},g.fontface=function(){return i.fontface},g.generatedcontent=function(){return i.generatedcontent},g.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType){n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"');var r='video/mp4; codecs="avc1.42E01E';n.h264=e.canPlayType(r+'"')||e.canPlayType(r+', mp4a.40.2"'),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(i){}return n},g.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"'),n.mp3=e.canPlayType("audio/mpeg;"),n.wav=e.canPlayType('audio/wav; codecs="1"'),n.m4a=e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")}catch(r){}return n},g.localstorage=function(){try{return!!localStorage.getItem}catch(e){return!1}},g.sessionstorage=function(){try{return!!sessionStorage.getItem}catch(e){return!1}},g.webworkers=function(){return!!e.Worker},g.applicationcache=function(){return!!e.applicationCache},g.svg=function(){return!!t.createElementNS&&!!t.createElementNS(m.svg,"svg").createSVGRect},g.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==m.svg},g.smil=function(){return!!t.createElementNS&&/SVG/.test(p.call(t.createElementNS(m.svg,"animate")))},g.svgclippaths=function(){return!!t.createElementNS&&/SVG/.test(p.call(t.createElementNS(m.svg,"clipPath")))};for(var H in g)C(g,H)&&(E=H.toLowerCase(),i[E]=g[H](),w.push((i[E]?"":"no-")+E));return i.input||P(),i.addTest=function(e,t){if(typeof e=="object")for(var r in e)C(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return;t=typeof t=="boolean"?t:!!t(),o.className+=" "+(t?"":"no-")+e,i[e]=t}return i},k(""),f=c=null,e.attachEvent&&function(){var e=t.createElement("div");return e.innerHTML="<elem></elem>",e.childNodes.length!==1}()&&function(e,t){function y(e){var t=-1;while(++t<o)e.createElement(s[t])}e.iepp=e.iepp||{};var r=e.iepp,i=r.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",s=i.split("|"),o=s.length,u=new RegExp("(^|\\s)("+i+")","gi"),a=new RegExp("<(/*)("+i+")","gi"),f=/^\s*[\{\}]\s*$/,l=new RegExp("(^|[^\\n]*?\\s)("+i+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),c=t.createDocumentFragment(),h=t.documentElement,p=h.firstChild,d=t.createElement("body"),v=t.createElement("style"),m=/print|all/,g;r.getCSS=function(e,t){if(e+""===n)return"";var i=-1,s=e.length,o,u=[];while(++i<s){o=e[i];if(o.disabled)continue;t=o.media||t,m.test(t)&&u.push(r.getCSS(o.imports,t),o.cssText),t="all"}return u.join("")},r.parseCSS=function(e){var t=[],n;while((n=l.exec(e))!=null)t.push(((f.exec(n[1])?"\n":n[1])+n[2]+n[3]).replace(u,"$1.iepp_$2")+n[4]);return t.join("\n")},r.writeHTML=function(){var e=-1;g=g||t.body;while(++e<o){var n=t.getElementsByTagName(s[e]),r=n.length,i=-1;while(++i<r)n[i].className.indexOf("iepp_")<0&&(n[i].className+=" iepp_"+s[e])}c.appendChild(g),h.appendChild(d),d.className=g.className,d.id=g.id,d.innerHTML=g.innerHTML.replace(a,"<$1font")},r._beforePrint=function(){v.styleSheet.cssText=r.parseCSS(r.getCSS(t.styleSheets,"all")),r.writeHTML()},r.restoreHTML=function(){d.innerHTML="",h.removeChild(d),h.appendChild(g)},r._afterPrint=function(){r.restoreHTML(),v.styleSheet.cssText=""},y(t),y(c);if(r.disablePP)return;p.insertBefore(v,p.firstChild),v.media="print",v.className="iepp-printshim",e.attachEvent("onbeforeprint",r._beforePrint),e.attachEvent("onafterprint",r._afterPrint)}(e,t),i._version=r,i._prefixes=d,i._domPrefixes=v,i.mq=x,i.hasEvent=T,i.testProp=function(e){return M([e])},i.testAllProps=_,i.testStyles=S,i.prefixed=function(e){return _(e,"pfx")},o.className=o.className.replace(/\bno-js\b/,"")+(s?" js "+w.join(" "):""),i}(this,this.document),function(e){function n(){if(e.browser.msie){var t=e(document).height(),n=e(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t-n<20?n:t]}return[e(document).width(),e(document).height()]}function r(t){if(t)return t.call(e.mask)}e.tools=e.tools||{version:"v1.2.6"};var t;t=e.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var i,s,o,u,a;e.mask={load:function(l,p){if(o)return this;typeof l=="string"&&(l={color:l}),l=l||u,u=l=e.extend(e.extend({},t.conf),l),i=e("#"+l.maskId),i.length||(i=e("<div/>").attr("id",l.maskId),e("body").append(i));var v=n();return i.css({position:"absolute",top:0,left:0,width:v[0],height:v[1],display:"none",opacity:l.startOpacity,zIndex:l.zIndex}),l.color&&i.css("backgroundColor",l.color),r(l.onBeforeLoad)===!1?this:(l.closeOnEsc&&e(document).bind("keydown.mask",function(t){t.keyCode==27&&e.mask.close(t)}),l.closeOnClick&&i.bind("click.mask",function(t){e.mask.close(t)}),e(window).bind("resize.mask",function(){e.mask.fit()}),p&&p.length&&(a=p.eq(0).css("zIndex"),e.each(p,function(){var t=e(this);/relative|absolute|fixed/i.test(t.css("position"))||t.css("position","relative")}),s=p.css({zIndex:Math.max(l.zIndex+1,a=="auto"?0:a)})),i.css({display:"block"}).fadeTo(l.loadSpeed,l.opacity,function(){e.mask.fit(),r(l.onLoad),o="full"}),o=!0,this)},close:function(){if(o){if(r(u.onBeforeClose)===!1)return this;i.fadeOut(u.closeSpeed,function(){r(u.onClose),s&&s.css({zIndex:a}),o=!1}),e(document).unbind("keydown.mask"),i.unbind("click.mask"),e(window).unbind("resize.mask")}return this},fit:function(){if(o){var e=n();i.css({width:e[0],height:e[1]})}},getMask:function(){return i},isLoaded:function(e){return e?o=="full":o},getConf:function(){return u},getExposed:function(){return s}},e.fn.mask=function(t){return e.mask.load(t),this},e.fn.expose=function(t){return e.mask.load(t,this),this}}(jQuery),function(e,t){function n(t,n){var i=t.nodeName.toLowerCase();return"area"===i?(n=t.parentNode,i=n.name,!t.href||!i||n.nodeName.toLowerCase()!=="map"?!1:(t=e("img[usemap=#"+i+"]")[0],!!t&&r(t))):(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"==i?t.href||n:n)&&r(t)}function r(t){return!e(t).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{},e.ui.version||(e.extend(e.ui,{version:"1.8.16",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),e.fn.extend({propAttr:e.fn.prop||e.fn.attr,_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return t=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){n=e(this[0]);for(var r;n.length&&n[0]!==document;){r=n.css("position");if(r==="absolute"||r==="relative"||r==="fixed"){r=parseInt(n.css("zIndex"),10);if(!isNaN(r)&&r!==0)return r}n=n.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.curCSS(t,"padding"+this,!0))||0,r&&(n-=parseFloat(e.curCSS(t,"border"+this+"Width",!0))||0),i&&(n-=parseFloat(e.curCSS(t,"margin"+this,!0))||0)}),n}var s=r==="Width"?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),e.extend(e.ui,{plugin:{add:function(t,n,r){t=e.ui[t].prototype;for(var i in r)t.plugins[i]=t.plugins[i]||[],t.plugins[i].push([n,r[i]])},call:function(e,t,n){if((t=e.plugins[t])&&e.element[0].parentNode)for(var r=0;r<t.length;r++)e.options[t[r][0]]&&t[r][1].apply(e.element,n)}},contains:function(e,t){return document.compareDocumentPosition?e.compareDocumentPosition(t)&16:e!==t&&e.contains(t)},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;n=n&&n==="left"?"scrollLeft":"scrollTop";var r=!1;return t[n]>0?!0:(t[n]=1,r=t[n]>0,t[n]=0,r)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}}))}(jQuery),function(e,t){if(e.cleanData){var n=e.cleanData;e.cleanData=function(t){for(var r=0,i;(i=t[r])!=null;r++)try{e(i).triggerHandler("remove")}catch(s){}n(t)}}else{var r=e.fn.remove;e.fn.remove=function(t,n){return this.each(function(){return n||(!t||e.filter(t,[this]).length)&&e("*",this).add([this]).each(function(){try{e(this).triggerHandler("remove")}catch(t){}}),r.call(e(this),t,n)})}}e.widget=function(t,n,r){var i=t.split(".")[0],s;t=t.split(".")[1],s=i+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][s]=function(n){return!!e.data(n,t)},e[i]=e[i]||{},e[i][t]=function(e,t){arguments.length&&this._createWidget(e,t)},n=new n,n.options=e.extend(!0,{},n.options),e[i][t].prototype=e.extend(!0,n,{namespace:i,widgetName:t,widgetEventPrefix:e[i][t].prototype.widgetEventPrefix||t,widgetBaseClass:s},r),e.widget.bridge(t,e[i][t])},e.widget.bridge=function(n,r){e.fn[n]=function(i){var s=typeof i=="string",o=Array.prototype.slice.call(arguments,1),u=this;return i=!s&&o.length?e.extend.apply(null,[!0,i].concat(o)):i,s&&i.charAt(0)==="_"?u:(s?this.each(function(){var r=e.data(this,n),s=r&&e.isFunction(r[i])?r[i].apply(r,o):r;if(s!==r&&s!==t)return u=s,!1}):this.each(function(){var t=e.data(this,n);t?t.option(i||{})._init():e.data(this,n,new r(i,this))}),u)}},e.Widget=function(e,t){arguments.length&&this._createWidget(e,t)},e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(t,n){e.data(n,this.widgetName,this),this.element=e(n),this.options=e.extend(!0,{},this.options,this._getCreateOptions(),t);var r=this;this.element.bind("remove."+this.widgetName,function(){r.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(n,r){var i=n;if(arguments.length===0)return e.extend({},this.options);if(typeof n=="string"){if(r===t)return this.options[n];i={},i[n]=r}return this._setOptions(i),this},_setOptions:function(t){var n=this;return e.each(t,function(e,t){n._setOption(e,t)}),this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&this.widget()[t?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",t),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(t,n,r){var i=this.options[t];n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),r=r||{};if(n.originalEvent){t=e.event.props.length;for(var s;t;)s=e.event.props[--t],n[s]=n.originalEvent[s]}return this.element.trigger(n,r),!(e.isFunction(i)&&i.call(this.element[0],n,r)===!1||n.isDefaultPrevented())}}}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=n.which==1,s=typeof this.options.cancel=="string"&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(n))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(n)&&this._mouseDelayMet(n)){this._mouseStarted=this._mouseStart(n)!==!1;if(!this._mouseStarted)return n.preventDefault(),!0}return!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0}},_mouseMove:function(t){return!e.browser.msie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&((this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1)?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target==this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){e.ui=e.ui||{};var t=/left|center|right/,n=/top|center|bottom/,r=e.fn.position,i=e.fn.offset;e.fn.position=function(i){if(!i||!i.of)return r.apply(this,arguments);i=e.extend({},i);var s=e(i.of),u=s[0],a=(i.collision||"flip").split(" "),f=i.offset?i.offset.split(" "):[0,0],l,h,p;return u.nodeType===9?(l=s.width(),h=s.height(),p={top:0,left:0}):u.setTimeout?(l=s.width(),h=s.height(),p={top:s.scrollTop(),left:s.scrollLeft()}):u.preventDefault?(i.at="left top",l=h=0,p={top:i.of.pageY,left:i.of.pageX}):(l=s.outerWidth(),h=s.outerHeight(),p=s.offset()),e.each(["my","at"],function(){var e=(i[this]||"").split(" ");e.length===1&&(e=t.test(e[0])?e.concat(["center"]):n.test(e[0])?["center"].concat(e):["center","center"]),e[0]=t.test(e[0])?e[0]:"center",e[1]=n.test(e[1])?e[1]:"center",i[this]=e}),a.length===1&&(a[1]=a[0]),f[0]=parseInt(f[0],10)||0,f.length===1&&(f[1]=f[0]),f[1]=parseInt(f[1],10)||0,i.at[0]==="right"?p.left+=l:i.at[0]==="center"&&(p.left+=l/2),i.at[1]==="bottom"?p.top+=h:i.at[1]==="center"&&(p.top+=h/2),p.left+=f[0],p.top+=f[1],this.each(function(){var t=e(this),n=t.outerWidth(),r=t.outerHeight(),s=parseInt(e.curCSS(this,"marginLeft",!0))||0,o=parseInt(e.curCSS(this,"marginTop",!0))||0,u=n+s+(parseInt(e.curCSS(this,"marginRight",!0))||0),d=r+o+(parseInt(e.curCSS(this,"marginBottom",!0))||0),v=e.extend({},p),m;i.my[0]==="right"?v.left-=n:i.my[0]==="center"&&(v.left-=n/2),i.my[1]==="bottom"?v.top-=r:i.my[1]==="center"&&(v.top-=r/2),v.left=Math.round(v.left),v.top=Math.round(v.top),m={left:v.left-s,top:v.top-o},e.each(["left","top"],function(t,s){e.ui.position[a[t]]&&e.ui.position[a[t]][s](v,{targetWidth:l,targetHeight:h,elemWidth:n,elemHeight:r,collisionPosition:m,collisionWidth:u,collisionHeight:d,offset:f,my:i.my,at:i.at})}),e.fn.bgiframe&&t.bgiframe(),t.offset(e.extend(v,{using:i.using}))})},e.ui.position={fit:{left:function(t,n){var r=e(window);r=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft(),t.left=r>0?t.left-r:Math.max(t.left-n.collisionPosition.left,t.left)},top:function(t,n){var r=e(window);r=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop(),t.top=r>0?t.top-r:Math.max(t.top-n.collisionPosition.top,t.top)}},flip:{left:function(t,n){if(n.at[0]!=="center"){var r=e(window);r=n.collisionPosition.left+n.collisionWidth-r.width()-r.scrollLeft();var i=n.my[0]==="left"?-n.elemWidth:n.my[0]==="right"?n.elemWidth:0,s=n.at[0]==="left"?n.targetWidth:-n.targetWidth,o=-2*n.offset[0];t.left+=n.collisionPosition.left<0?i+s+o:r>0?i+s+o:0}},top:function(t,n){if(n.at[1]!=="center"){var r=e(window);r=n.collisionPosition.top+n.collisionHeight-r.height()-r.scrollTop();var i=n.my[1]==="top"?-n.elemHeight:n.my[1]==="bottom"?n.elemHeight:0,s=n.at[1]==="top"?n.targetHeight:-n.targetHeight,o=-2*n.offset[1];t.top+=n.collisionPosition.top<0?i+s+o:r>0?i+s+o:0}}}},e.offset.setOffset||(e.offset.setOffset=function(t,n){/static/.test(e.curCSS(t,"position"))&&(t.style.position="relative");var r=e(t),i=r.offset(),s=parseInt(e.curCSS(t,"top",!0),10)||0,o=parseInt(e.curCSS(t,"left",!0),10)||0;i={top:n.top-i.top+s,left:n.left-i.left+o},"using"in n?n.using.call(t,i):r.css(i)},e.fn.offset=function(t){var n=this[0];return!n||!n.ownerDocument?null:t?this.each(function(){e.offset.setOffset(this,t)}):i.call(this)})}(jQuery),function(e){e.widget("ui.draggable",e.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(n.iframeFix&&e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.helper.addClass("ui-draggable-dragging"),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var r=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return this.options.iframeFix===!0&&e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options;return t=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element,t.parents("body").length||t.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),t[0]!=this.element[0]&&!/(fixed|absolute)/.test(t.css("position"))&&t.css("position","absolute"),t},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.browser.msie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode
.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){t=e(t.containment);var n=t[0];if(n){t.offset();var r=e(n).css("overflow")!="hidden";this.containment=[(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0),(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0),(r?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(r?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t}}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position),t=t=="absolute"?1:-1;var r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*t+this.offset.parent.top*t-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop())*t),left:n.left+this.offset.relative.left*t+this.offset.parent.left*t-(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())*t)}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;this.containment&&(this.relative_container?(u=this.relative_container.offset(),u=[this.containment[0]+u.left,this.containment[1]+u.top,this.containment[2]+u.left,this.containment[3]+u.top]):u=this.containment,t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)),n.grid&&(o=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY,o=u?o-this.offset.click.top<u[1]||o-this.offset.click.top>u[3]?o-this.offset.click.top<u[1]?o+n.grid[1]:o-n.grid[1]:o:o,s=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX,s=u?s-this.offset.click.left<u[0]||s-this.offset.click.left>u[2]?s-this.offset.click.left<u[0]?s+n.grid[0]:s-n.grid[0]:s:s)}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(e.browser.safari&&e.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.extend(e.ui.draggable,{version:"1.8.16"}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this;e.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){t=e(n.helper),n=e(this).data("draggable").options,t.css("opacity")&&(n._opacity=t.css("opacity")),t.css("opacity",n.opacity)},stop:function(t,n){t=e(this).data("draggable").options,t._opacity&&e(n.helper).css("opacity",t._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("draggable");t.scrollParent[0]!=document&&t.scrollParent[0].tagName!="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("draggable"),r=n.options,i=!1;if(n.scrollParent[0]!=document&&n.scrollParent[0].tagName!="HTML"){if(!r.axis||r.axis!="x")n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed);if(!r.axis||r.axis!="y")n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed)}else{if(!r.axis||r.axis!="x")t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed));if(!r.axis||r.axis!="y")t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))}i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!=String?n.snap.items||":data(draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!=t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){for(var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height,l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,v=p+r.snapElements[l].height;if(c-s<o&&o<h+s&&p-s<a&&a<v+s||c-s<o&&o<h+s&&p-s<f&&f<v+s||c-s<u&&u<h+s&&p-s<a&&a<v+s||c-s<u&&u<h+s&&p-s<f&&f<v+s){if(i.snapMode!="inner"){var m=Math.abs(p-f)<=s,g=Math.abs(v-a)<=s,y=Math.abs(c-u)<=s,b=Math.abs(h-o)<=s;m&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:v,left:0}).top-r.margins.top),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var w=m||g||y||b;i.snapMode!="outer"&&(m=Math.abs(p-a)<=s,g=Math.abs(v-f)<=s,y=Math.abs(c-o)<=s,b=Math.abs(h-u)<=s,m&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),g&&(n.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top-r.margins.top),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),b&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)),!r.snapElements[l].snapping&&(m||g||y||b||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=m||g||y||b||w}else r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t=e(this).data("draggable").options;t=e.makeArray(e(t.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(t.length){var n=parseInt(t[0].style.zIndex)||0;e(t).each(function(e){this.style.zIndex=n+e}),this[0].style.zIndex=n+t.length}}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){t=e(n.helper),n=e(this).data("draggable").options,t.css("zIndex")&&(n._zIndex=t.css("zIndex")),t.css("zIndex",n.zIndex)},stop:function(t,n){t=e(this).data("draggable").options,t._zIndex&&e(n.helper).css("zIndex",t._zIndex)}})}(jQuery),jQuery.effects||function(e,t){function n(t){var n;return t&&t.constructor==Array&&t.length==3?t:(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)]:(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[parseFloat(n[1])*2.55,parseFloat(n[2])*2.55,parseFloat(n[3])*2.55]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]:/rgba\(0, 0, 0, 0\)/.exec(t)?f.transparent:f[e.trim(t).toLowerCase()]}function r(t,r){var i;do{i=e.curCSS(t,r);if(i!=""&&i!="transparent"||e.nodeName(t,"body"))break;r="backgroundColor"}while(t=t.parentNode);return n(i)}function i(){var e=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,t={},n,r;if(e&&e.length&&e[0]&&e[e[0]])for(var i=e.length;i--;)n=e[i],typeof e[n]=="string"&&(r=n.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),t[r]=e[n]);else for(n in e)typeof e[n]=="string"&&(t[n]=e[n]);return t}function s(t){var n,r;for(n in t)r=t[n],(r==null||e.isFunction(r)||n in c||/scrollbar/.test(n)||!/color/i.test(n)&&isNaN(parseFloat(r)))&&delete t[n];return t}function o(e,t){var n={_:0},r;for(r in t)e[r]!=t[r]&&(n[r]=t[r]);return n}function u(t,n,r,i){typeof t=="object"&&(i=n,r=null,n=t,t=n.effect),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n=n||{},r=r||n.duration,r=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,i=i||n.complete,[t,n,r,i]}function a(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects[t]?!0:!1}e.effects={},e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(t,i){e.fx.step[i]=function(e){e.colorInit||(e.start=r(e.elem,i),e.end=n(e.end),e.colorInit=!0),e.elem.style[i]="rgb("+Math.max(Math.min(parseInt(e.pos*(e.end[0]-e.start[0])+e.start[0],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[1]-e.start[1])+e.start[1],10),255),0)+","+Math.max(Math.min(parseInt(e.pos*(e.end[2]-e.start[2])+e.start[2],10),255),0)+")"}});var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},l=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.effects.animateClass=function(t,n,r,u){return e.isFunction(r)&&(u=r,r=null),this.queue(function(){var a=e(this),f=a.attr("style")||" ",c=s(i.call(this)),h,v=a.attr("class");e.each(l,function(e,n){t[n]&&a[n+"Class"](t[n])}),h=s(i.call(this)),a.attr("class",v),a.animate(o(c,h),{queue:!1,duration:n,easing:r,complete:function(){e.each(l,function(e,n){t[n]&&a[n+"Class"](t[n])}),typeof a.attr("style")=="object"?(a.attr("style").cssText="",a.attr("style").cssText=f):a.attr("style",f),u&&u.apply(this,arguments),e.dequeue(this)}})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.apply(this,[{add:t},n,r,i]):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.apply(this,[{remove:t},n,r,i]):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.apply(this,[r?{add:n}:{remove:n},i,s,o]):this._toggleClass(n,r):e.effects.animateClass.apply(this,[{toggle:n},r,i,s])},switchClass:function(t,n,r,i,s){return e.effects.animateClass.apply(this,[{add:n,remove:t},r,i,s])}}),e.extend(e.effects,{version:"1.8.16",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data("ec.storage."+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.css(t[n],e.data("ec.storage."+t[n]))},setMode:function(e,t){return t=="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":e=0;break;case"center":e=.5;break;case"right":e=1;break;default:e=e[1]/t.width}return{x:e,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i=document.activeElement;return t.wrap(r),(t[0]===i||e.contains(t[0],i))&&e(i).focus(),r=t.parent(),t.css("position")=="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),r.css(n).show()},removeWrapper:function(t){var n,r=document.activeElement;return t.parent().is(".ui-effects-wrapper")?(n=t.parent().replaceWith(t),(t[0]===r||e.contains(t[0],r))&&e(r).focus(),n):t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){unit=t.cssUnit(n),unit[0]>0&&(i[n]=unit[0]*r+unit[1])}),i}}),e.fn.extend({effect:function(t){var n=u.apply(this,arguments),r={options:n[1],duration:n[2],callback:n[3]};n=r.options.mode;var i=e.effects[t];return e.fx.off||!i?n?this[n](r.duration,r.callback):this.each(function(){r.callback&&r.callback.call(this)}):i.call(this,r)},_show:e.fn.show,show:function(e){if(a(e))return this._show.apply(this,arguments);var t=u.apply(this,arguments);return t[1].mode="show",this.effect.apply(this,t)},_hide:e.fn.hide,hide:function(e){if(a(e))return this._hide.apply(this,arguments);var t=u.apply(this,arguments);return t[1].mode="hide",this.effect.apply(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(a(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=u.apply(this,arguments);return n[1].mode="toggle",this.effect.apply(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}}),e.easing.jswing=e.easing.swing,e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,r,i,s){return e.easing[e.easing.def](t,n,r,i,s)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;return t==0?n:(t/=i)==1?n+r:(s||(s=i*.3),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),-(o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s))+n)},easeOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;return t==0?n:(t/=i)==1?n+r:(s||(s=i*.3),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*t)*Math.sin((t*i-e)*2*Math.PI/s)+r+n)},easeInOutElastic:function(e,t,n,r,i){e=1.70158;var s=0,o=r;return t==0?n:(t/=i/2)==2?n+r:(s||(s=i*.3*1.5),o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o),t<1?-0.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)+n:o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)*.5+r+n)},easeInBack:function(e,n,r,i,s,o){return o==t&&(o=1.70158),i*(n/=s)*n*((o+1)*n-o)+r},easeOutBack:function(e,n,r,i,s,o){return o==t&&(o=1.70158),i*((n=n/s-1)*n*((o+1)*n+o)+1)+r},easeInOutBack:function(e,n,r,i,s,o){return o==t&&(o=1.70158),(n/=s/2)<1?i/2*n*n*(((o*=1.525)+1)*n-o)+r:i/2*((n-=2)*n*(((o*=1.525)+1)*n+o)+2)+r},easeInBounce:function(t,n,r,i,s){return i-e.easing.easeOutBounce(t,s-n,0,i,s)+r},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,r,i,s){return n<s/2?e.easing.easeInBounce(t,n*2,0,i,s)*.5+r:e.easing.easeOutBounce(t,n*2-s,0,i,s)*.5+i*.5+r}})}(jQuery),function(e){e.effects.highlight=function(t){return this.queue(function(){var n=e(this),r=["backgroundImage","backgroundColor","opacity"],i=e.effects.setMode(n,t.options.mode||"show"),s={backgroundColor:n.css("backgroundColor")};i=="hide"&&(s.opacity=0),e.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:t.options.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.options.easing,complete:function(){i=="hide"&&n.hide(),e.effects.restore(n,r),i=="show"&&!e.support.opacity&&this.style.removeAttribute("filter"),t.callback&&t.callback.apply(this,arguments),n.dequeue()}})})}}(jQuery),function(e){function c(t,n,r,o){var u={data:o||o===0||o===!1?o:n?n.data:{},_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:b,nest:w,wrap:E,html:S,update:x};return t&&e.extend(u,t,{nodes:[],parent:n}),r&&(u.tmpl=r,u._ctnt=u._ctnt||u.tmpl(e,u),u.key=++a,(l.length?s:i)[a]=u),u}function h(t,r,i){var s,o=i?e.map(i,function(e){return typeof e=="string"?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+n+'="'+t.key+'" $2'):e:h(e,t,e._ctnt)}):t;return r?o:(o=o.join(""),o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,n,r,i){s=e(r).get(),y(s),n&&(s=p(n).concat(s)),i&&(s=s.concat(p(i)))}),s?s:p(o))}function p(t){var n=document.createElement("div");return n.innerHTML=t,e.makeArray(n.childNodes)}function d(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,n,r,i,s,o,u){var a=e.tmpl.tag[r],f,l,c;if(!a)throw"Unknown template tag: "+r;return f=a._default||[],o&&!/\w$/.test(s)&&(s+=o,o=""),s?(s=m(s),u=u?","+m(u)+")":o?")":"",l=o?s.indexOf(".")>-1?s+m(o):"("+s+").call($item"+u:s,c=o?l:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"):c=l=f.$1||"null",i=m(i),"');"+a[n?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(i||f.$2||"")+"__.push('"})+"');}return __;")}function v(t,n){t._wrap=h(t,!0,e.isArray(n)?n:[r.test(n)?n:e(n).html()]).join("")}function m(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function g(e){var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function y(t){function v(t){function v(e){e+=r,p=l[e]=l[e]||c(p,i[p.parent.key+r]||p.parent)}var o,u=t,h,p,d;if(d=t.getAttribute(n)){while(u.parentNode&&(u=u.parentNode).nodeType===1&&!(o=u.getAttribute(n)));o!==d&&(u=u.parentNode?u.nodeType===11?0:u.getAttribute(n)||0:0,(p=i[d])||(p=s[d],p=c(p,i[u]||s[u]),p.key=++a,i[a]=p),f&&v(d)),t.removeAttribute(n)}else f&&(p=e.data(t,"tmplItem"))&&(v(p.key),i[p.key]=p,u=e.data(t.parentNode,"tmplItem"),u=u?u.key:0);if(p){h=p;while(h&&h.key!=u)h.nodes.push(t),h=h.parent;delete p._ctnt,delete p._wrap,e.data(t,"tmplItem",p)}}var r="_"+f,o,u,l={},h,p,d;for(h=0,p=t.length;h<p;h++){if((o=t[h]).nodeType!==1)continue;u=o.getElementsByTagName("*");for(d=u.length-1;d>=0;d--)v(u[d]);v(o)}}function b(e,t,n,r){if(!e)return l.pop();l.push({_:e,tmpl:t,item:this,data:n,options:r})}function w(t,n,r){return e.tmpl(e.template(t),n,r,this)}function E(t,n){var r=t.options||{};return r.wrapped=n,e.tmpl(e.template(t.tmpl),t.data,r,t.item)}function S(t,n){var r=this._wrap;return e.map(e(e.isArray(r)?r.join(""):r).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||g(e)})}function x(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]),e(t).remove()}var t=e.fn.domManip,n="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,i={},s={},o,u={key:0,data:{}},a=0,f=0,l=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(r){var s=[],u=e(r),a,l,c,h,p=this.length===1&&this[0].parentNode;o=i||{};if(p&&p.nodeType===11&&p.childNodes.length===1&&u.length===1)u[n](this[0]),s=this;else{for(l=0,c=u.length;l<c;l++)f=l,a=(l>0?this.clone(!0):this).get(),e(u[l])[n](a),s=s.concat(a);f=0,s=this.pushStack(s,t,u.selector)}return h=o,o=null,e.tmpl.complete(h),s}}),e.fn.extend({tmpl:function(t,n,r){return e.tmpl(this[0],t,n,r)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(n,r,s){if(n[0]&&e.isArray(n[0])){var u=e.makeArray(arguments),a=n[0],l=a.length,c=0,h;while(c<l&&!(h=e.data(a[c++],"tmplItem")));h&&f&&(u[2]=function(t){e.tmpl.afterManip(this,t,s)}),t.apply(this,u)}else t.apply(this,arguments);return f=0,!o&&e.tmpl.complete(i),this}}),e.extend({tmpl:function(t,n,r,o){var a,f=!o;if(f)o=u,t=e.template[t]||e.template(null,t),s={};else if(!t)return t=o.tmpl,i[o.key]=o,o.nodes=[],o.wrapped&&v(o,o.wrapped),e(h(o,null,o.tmpl(e,o)));return t?(typeof n=="function"&&(n=n.call(o||{})),r&&r.wrapped&&v(r,r.wrapped),a=e.isArray(n)?e.map(n,function(e){return e?c(r,o,t,e):null}):[c(r,o,t,n)],f?e(h(o,null,a)):a):[]},tmplItem:function(t){var n;t instanceof e&&(t=t[0]);while(t&&t.nodeType===1&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode));return n||u},template:function(t,n){return n?(typeof n=="string"?n=d(n):n instanceof e&&(n=n[0]||{}),n.nodeType&&(n=e.data(n,"tmpl")||e.data(n,"tmpl",d(n.innerHTML))),typeof t=="string"?e.template[t]=n:n):t?typeof t!="string"?e.template(null,t):e.template[t]||e.template(null,r.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){i={}},afterManip:function(t,n,r){var i=n.nodeType===11?e.makeArray(n.childNodes):n.nodeType===1?[n]:[];r.call(t,n),y(i),f++}})}(jQuery),function(e){"use strict";var t="file_upload",n="undefined",r="function",i,s,o=function(e,t){var n=0,r=[];t&&(t.length?r=t:r[t-1]=null),this.complete=function(){n+=1,n===r.length&&(e(r),n=0,r=[])},this.push=function(e){r.push(e)},this.getList=function(){return r}},u=function(){var e=[];this.push=function(t){e.push(t),e.length===1&&t()},this.next=function(){e.shift(),e.length&&e[0]()}};i=function(i){var s=this,a,f,l={namespace:t,uploadFormFilter:function(e){return!0},fileInputFilter:function(e){return!0},cssClass:t,dragDropSupport:!0,dropZone:i,url:function(e){return e.attr("action")},method:function(e){return e.attr("method")},fieldName:function(e){return e.attr("name")},formData:function(e){return e.serializeArray()},requestHeaders:null,multipart:!0,multiFileRequest:!1,withCredentials:!1,forceIframeUpload:!1,sequentialUploads:!1,maxChunkSize:null,maxFileReaderSize:5e7,replaceFileInput:!0},c={},h={},p=/^http(s)?:\/\//,d,v=new o(function(e){typeof l.onLoadAll===r&&l.onLoadAll(e)}),m=new u,g=function(){v.complete(),m.next()},y=function(){return typeof XMLHttpRequest!==n&&typeof XMLHttpRequestUpload!==n&&typeof File!==n&&(!l.multipart||typeof FormData!==n||typeof FileReader!==n&&typeof XMLHttpRequest.prototype.sendAsBinary===r)},b=function(){l.dragDropSupport&&(typeof l.onDocumentDragEnter===r&&(c["dragenter."+l.namespace]=function(e){l.onDocumentDragEnter(e)}),typeof l.onDocumentDragLeave===r&&(c["dragleave."+l.namespace]=function(e){l.onDocumentDragLeave(e)}),c["dragover."+l.namespace]=s.onDocumentDragOver,c["drop."+l.namespace]=s.onDocumentDrop,e(document).bind(c),typeof l.onDragEnter===r&&(h["dragenter."+l.namespace]=function(e){l.onDragEnter(e)}),typeof l.onDragLeave===r&&(h["dragleave."+l.namespace]=function(e){l.onDragLeave(e)}),h["dragover."+l.namespace]=s.onDragOver,h["drop."+l.namespace]=s.onDrop,l.dropZone.bind(h)),f.bind("change."+l.namespace,s.onChange)},w=function(){e.each(c,function(t,n){e(document).unbind(t,n)}),e.each(h,function(e,t){l.dropZone.unbind(e,t)}),f.unbind("change."+l.namespace)},E=function(e){return typeof e.uploadedBytes!==n},S=function(e,t,i){var s;return typeof document.createEvent===r&&typeof ProgressEvent!==n?(s=document.createEvent("ProgressEvent"),s.initProgressEvent("progress",!1,!1,e,t,i)):s={lengthComputable:!0,loaded:t,total:i},s},x=function(e,t,r){var i,s;if(typeof r.progressTotal===n)if(e[t])s=e[t].size,r.progressTotal=s?s:1;else{s=0;for(i=0;i<e.length;i+=1)s+=e[i].size;r.progressTotal=s}return r.progressTotal},T=function(t,n,i,s,o){var u,a,f=0,l=0;t.lengthComputable&&typeof o.onProgressAll===r&&(o.progressLoaded=parseInt(t.loaded/t.total*x(n,i,o),10),a=v.getList(),e.each(a,function(e,t){f+=t[3].progressLoaded||0,l+=x(t[0],t[1],t[3])}),u=S(!0,f,l),o.onProgressAll(u,a))},N=function(e,t,n,i,s){var o;if(E(s)){s.uploadedBytes+=s.chunkSize,o=S(!0,s.uploadedBytes,t[n].size),typeof s.onProgress===r&&s.onProgress(o,t,n,i,s),T(o,t,n,i,s);if(s.uploadedBytes<t[n].size){typeof s.resumeUpload===r?s.resumeUpload(e,t,n,i,s,function(){q(e,t,n,i,s,!0)}):q(e,t,n,i,s,!0);return}}s.progressLoaded=x(t,n,s),typeof s.onLoad===r&&s.onLoad(e,t,n,i,s),g()},C=function(e,t,n,i,s){var o=e;E(s)&&e.lengthComputable&&(o=S(!0,s.uploadedBytes+parseInt(e.loaded/e.total*s.chunkSize,10),t[n].size)),typeof s.onProgress===r&&s.onProgress(o,t,n,i,s),T(o,t,n,i,s)},k=function(e,t,n,i){n.upload&&(n.upload.onprogress=function(r){C(r,e,t,n,i)}),n.onload=function(r){N(r,e,t,n,i)},n.onabort=function(s){i.progressTotal=i.progressLoaded,typeof i.onAbort===r&&i.onAbort(s,e,t,n,i),g()},n.onerror=function(s){i.progressTotal=i.progressLoaded,typeof i.onError===r&&i.onError(s,e,t,n,i),g()}},L=function(e){return typeof e.url===r?e.url(e.uploadForm||a):e.url},A=function(e){return typeof e.method===r?e.method(e.uploadForm||a):e.method},O=function(e){return typeof e.fieldName===r?e.fieldName(e.fileInput||f):e.fieldName},M=function(t){var n;return typeof t.formData===r?t.formData(t.uploadForm||a):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_=function(t){if(p.test(t)){var n=location.host,r=location.protocol.length+2,i=t.indexOf(n,r),s=i+n.length;return i!==r&&i!==t.indexOf("@",r)+1||t.length!==s&&e.inArray(t.charAt(s),["/","?","#"])===-1?!1:!0}return!0},D=function(t,n,r,i){var s=t[n],o=L(i),u=_(o);r.open(A(i),o,!0);if(u){r.setRequestHeader("X-Requested-With","XMLHttpRequest");if(!i.multipart||E(i))r.setRequestHeader("X-File-Name",s.name),r.setRequestHeader("X-File-Type",s.type),r.setRequestHeader("X-File-Size",s.size),E(i)?i.multipart||r.setRequestHeader("Content-Type","application/octet-stream"
):r.setRequestHeader("Content-Type",s.type)}else i.withCredentials&&(r.withCredentials=!0);e.isArray(i.requestHeaders)?e.each(i.requestHeaders,function(e,t){r.setRequestHeader(t.name,t.value)}):i.requestHeaders&&e.each(i.requestHeaders,function(e,t){r.setRequestHeader(e,t)})},P=function(t,n,r){var i=new FormData,s;e.each(M(r),function(e,t){i.append(t.name,t.value)});for(s=0;s<t.length;s+=1)i.append(O(r),t[s]);n.send(i)},H=function(e,t){e.reader=new FileReader,e.reader.onload=t,e.reader.readAsBinaryString(e)},B=function(e){return unescape(encodeURIComponent(e))},j=function(t,n,r,i){var s="--",o="\r\n",u="",a=[];return e.each(i,function(e,n){u+=s+t+o+'Content-Disposition: form-data; name="'+B(n.name)+'"'+o+o+B(n.value)+o}),e.each(n,function(e,n){u+=s+t+o+'Content-Disposition: form-data; name="'+B(r)+'"; filename="'+B(n.name)+'"'+o+"Content-Type: "+B(n.type)+o+o,a.push(u),a.push(n.reader.result),delete n.reader,u=o}),u+=s+t+s+o,a.push(u),a.join("")},F=function(e,t,n){var r="----MultiPartFormBoundary"+(new Date).getTime(),i,s;t.setRequestHeader("Content-Type","multipart/form-data; boundary="+r),i=new o(function(){t.sendAsBinary(j(r,e,O(n),M(n)))},e.length);for(s=0;s<e.length;s+=1)H(e[s],i.complete)},I=function(e,t){var n,i=t.uploadedBytes,s=t.maxChunkSize;return e&&typeof e.slice===r&&(i||s&&s<e.size)?(t.uploadedBytes=i=i||0,n=e.slice(i,s||e.size-i),t.chunkSize=n.size,n):e},q=function(t,i,s,o,u,a){var f;f=function(){if(!a&&typeof u.onSend===r&&u.onSend(t,i,s,o,u)===!1){g();return}var f=I(i[s],u),l;k(i,s,o,u),D(i,s,o,u),u.multipart?(l=typeof s=="number"?[f]:i,typeof FormData!==n?P(l,o,u):typeof FileReader!==n&&typeof o.sendAsBinary===r?F(l,o,u):e.error("Browser does not support multipart/form-data XHR file uploads")):o.upload?o.send(f):e.error("Browser does not support XHR file uploads")};if(!a){v.push(Array.prototype.slice.call(arguments,1));if(u.sequentialUploads){m.push(f);return}}f()},R=function(t,n,i,s,o){var u=new XMLHttpRequest,a=e.extend({},l);a.fileInput=i,a.uploadForm=s,typeof a.initUpload===r?a.initUpload(t,n,o,u,a,function(){q(t,n,o,u,a)}):q(t,n,o,u,a)},U=function(t,r,i,s,o){var u=0,a;typeof i===n?e.each(r,function(e,t){u+=t.size?t.size:1}):u=r[i].size?r[i].size:1,a=S(!0,u,u),o.progressLoaded=u,T(a,r,i,s,o)},z=function(t,n,r){var i=M(r);n.find(":input").not(":disabled").attr("disabled",!0).addClass(r.namespace+"_disabled"),e.each(i,function(t,i){e('<input type="hidden"/>').attr("name",i.name).val(i.value).addClass(r.namespace+"_form_data").appendTo(n)}),t.attr("name",O(r)).appendTo(n)},W=function(e,t,n){e.detach(),t.find("."+n.namespace+"_disabled").removeAttr("disabled").removeClass(n.namespace+"_disabled"),t.find("."+n.namespace+"_form_data").remove()},X=function(t,n,i,s,o,u,a){var f;f=function(){if(typeof u.onSend===r&&u.onSend(t,n,a,o,u)===!1){g();return}var f={action:s.attr("action"),method:s.attr("method"),target:s.attr("target"),enctype:s.attr("enctype")};o.unbind("abort").bind("abort",function(e){o.readyState=0,o.unbind("load").attr("src","javascript".concat(":false;")),U(e,n,a,o,u),typeof u.onAbort===r&&u.onAbort(e,n,a,o,u),g()}).unbind("load").bind("load",function(t){o.readyState=4,U(t,n,a,o,u),typeof u.onLoad===r&&u.onLoad(t,n,a,o,u),e('<iframe src="javascript:false;" style="display:none;"></iframe>').appendTo(s).remove(),g()}),s.attr("action",L(u)).attr("method",A(u)).attr("target",o.attr("name")).attr("enctype","multipart/form-data"),z(i,s,u),o.readyState=2,s.get(0).submit(),W(i,s,u),e.each(f,function(e,t){t?s.attr(e,t):s.removeAttr(e)})},v.push([n,a,o,u]),u.sequentialUploads?m.push(f):f()},V=function(e,t){typeof t.name===n&&typeof t.size===n&&(t.name=t.fileName,t.size=t.fileSize)},J=function(t,n,i,s){if(!(t&&n&&i)){e.error("Iframe based File Upload requires a file input change event");return}var o=e('<iframe src="javascript:false;" style="display:none;" name="iframe_'+l.namespace+"_"+(new Date).getTime()+'"></iframe>'),u=e.extend({},l),a=t.target&&t.target.files;a=a?Array.prototype.slice.call(a,0):[{name:n.val(),type:null,size:null}],e.each(a,V),s=a.length===1?0:s,u.fileInput=n,u.uploadForm=i,o.readyState=0,o.abort=function(){o.trigger("abort")},o.bind("load",function(){o.unbind("load"),typeof u.initUpload===r?u.initUpload(t,a,s,o,u,function(){X(t,a,n,i,o,u,s)}):X(t,a,n,i,o,u,s)}).appendTo(i)},K=function(e){var t=0,r=0,i;if(l.multipart&&typeof FormData===n){for(i=0;i<e.length;i+=1){t=e[i].size;if(t>l.maxFileReaderSize)return!1;r+=t}if(l.multiFileRequest&&r>l.maxFileReaderSize)return!1}return!0},Q=function(t,n,r,i){if(!K(n)){J(t,r,i);return}var s;n=Array.prototype.slice.call(n,0),e.each(n,V);if(l.multiFileRequest&&l.multipart&&n.length)R(t,n,r,i);else for(s=0;s<n.length;s+=1)R(t,n,r,i,s)},G=function(){a=(i.is("form")?i:i.find("form")).filter(l.uploadFormFilter)},Y=function(){f=(a.length?a:i).find("input:file").filter(l.fileInputFilter)},Z=function(t){var n=t.clone(!0);e("<form/>").append(n).get(0).reset(),t.after(n).detach(),Y()};this.onDocumentDragOver=function(e){if(typeof l.onDocumentDragOver===r&&l.onDocumentDragOver(e)===!1)return!1;e.preventDefault()},this.onDocumentDrop=function(e){if(typeof l.onDocumentDrop===r&&l.onDocumentDrop(e)===!1)return!1;e.preventDefault()},this.onDragOver=function(e){if(typeof l.onDragOver===r&&l.onDragOver(e)===!1)return!1;var t=e.originalEvent.dataTransfer;t&&t.files&&(t.dropEffect=t.effectAllowed="copy",e.preventDefault())},this.onDrop=function(e){if(typeof l.onDrop===r&&l.onDrop(e)===!1)return!1;var t=e.originalEvent.dataTransfer;t&&t.files&&y()&&Q(e,t.files),e.preventDefault()},this.onChange=function(n){if(typeof l.onChange===r&&l.onChange(n)===!1)return!1;var i=e(n.target),s=e(n.target.form);s.length===1?l.replaceFileInput&&(i.data(t+"_form",s),Z(i)):s=i.data(t+"_form"),!l.forceIframeUpload&&n.target.files&&y()?Q(n,n.target.files,i,s):J(n,i,s)},this.init=function(t){t&&(e.extend(l,t),d=t),G(),Y();if(i.data(l.namespace)){e.error('FileUpload with namespace "'+l.namespace+'" already assigned to this element');return}i.data(l.namespace,s).addClass(l.cssClass),l.dropZone.not(i).addClass(l.cssClass),b(),typeof l.init===r&&l.init()},this.options=function(t){var r,s,o,u;if(typeof t===n)return e.extend({},l);d&&e.extend(d,t),w(),e.each(t,function(t,n){switch(t){case"namespace":e.error("The FileUpload namespace cannot be updated.");return;case"uploadFormFilter":o=!0,u=!0;break;case"fileInputFilter":u=!0;break;case"cssClass":r=l.cssClass;break;case"dropZone":s=l.dropZone}l[t]=n}),o&&G(),u&&Y(),typeof r!==n?(i.removeClass(r).addClass(l.cssClass),(s?s:l.dropZone).not(i).removeClass(r),l.dropZone.not(i).addClass(l.cssClass)):s&&(s.not(i).removeClass(l.cssClass),l.dropZone.not(i).addClass(l.cssClass)),b()},this.option=function(e,t){var r;if(typeof t===n)return l[e];r={},r[e]=t,s.options(r)},this.destroy=function(){typeof l.destroy===r&&l.destroy(),w(),i.removeData(l.namespace).removeClass(l.cssClass),l.dropZone.not(i).removeClass(l.cssClass)},this.upload=function(e){typeof e.length===n&&(e=[e]),Q(null,e)}},s={init:function(t){return this.each(function(){(new i(e(this))).init(t)})},option:function(r,i,s){s=s?s:t;var o=e(this).data(s);if(o){if(!r)return o.options();if(typeof r=="string"&&typeof i===n)return o.option(r)}else e.error('No FileUpload with namespace "'+s+'" assigned to this element');return this.each(function(){var t=e(this).data(s);t?typeof r=="string"?t.option(r,i):t.options(r):e.error('No FileUpload with namespace "'+s+'" assigned to this element')})},destroy:function(n){return n=n?n:t,this.each(function(){var t=e(this).data(n);t?t.destroy():e.error('No FileUpload with namespace "'+n+'" assigned to this element')})},upload:function(n,r){return r=r?r:t,this.each(function(){var t=e(this).data(r);t?t.upload(n):e.error('No FileUpload with namespace "'+r+'" assigned to this element')})}},e.fn.fileUpload=function(t){if(s[t])return s[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return s.init.apply(this,arguments);e.error('Method "'+t+'" does not exist on jQuery.fileUpload')}}(jQuery),function(e){"use strict";var t="undefined",n="function",r,i,s=function(e){var t=0,n=[];this.complete=function(){t+=1,t===n.length+1&&(e(n),t=0,n=[])},this.push=function(e){n.push(e)},this.getList=function(){return n}};r=function(r,i){var o=this,u,a,f=new s(function(e){o.hideProgressBarAll(function(){o.resetProgressBarAll(),typeof o.onCompleteAll===n&&o.onCompleteAll(e)})}),l=function(e){return typeof e.uploadTable===n?e.uploadTable(e):e.uploadTable},c=function(e){return typeof e.downloadTable===n?e.downloadTable(e):e.downloadTable};this.requestHeaders={Accept:"application/json, text/javascript, */*; q=0.01"},this.dropZone=r,this.imageTypes=/^image\/(gif|jpeg|png)$/,this.previewMaxWidth=this.previewMaxHeight=80,this.previewLoadDelay=100,this.previewAsCanvas=!0,this.previewSelector=".file_upload_preview",this.progressSelector=".file_upload_progress div",this.cancelSelector=".file_upload_cancel button",this.cssClassSmall="file_upload_small",this.cssClassLarge="file_upload_large",this.cssClassHighlight="file_upload_highlight",this.dropEffect="highlight",this.uploadTable=this.downloadTable=null,this.buildUploadRow=this.buildDownloadRow=null,this.progressAllNode=null,this.loadImage=function(e,r,i,s,o,u){var a,f,l,c;if(o&&!o.test(e.type))return null;f=function(e){var t=document.createElement("canvas"),r=Math.min((i||e.width)/e.width,(s||e.height)/e.height);return r>1&&(r=1),e.width=parseInt(e.width*r,10),e.height=parseInt(e.height*r,10),u||typeof t.getContext!==n?e:(t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0,e.width,e.height),t)},a=document.createElement("img"),l=typeof URL!==t?URL:typeof webkitURL!==t?webkitURL:null,l&&typeof l.createObjectURL===n?(a.onload=function(){l.revokeObjectURL(this.src),r(f(a))},a.src=l.createObjectURL(e)):typeof FileReader!==t&&typeof FileReader.prototype.readAsDataURL===n?(a.onload=function(){r(f(a))},c=new FileReader,c.onload=function(e){a.src=e.target.result},c.readAsDataURL(e)):r(null)},this.addNode=function(e,t,r){e&&e.length&&t&&t.length?t.css("display","none").appendTo(e).fadeIn(function(){if(typeof r===n)try{r()}catch(e){throw t.stop(),e}}):typeof r===n&&r()},this.removeNode=function(e,t){e&&e.length?e.fadeOut(function(){e.remove();if(typeof t===n)try{t()}catch(r){throw e.stop(),r}}):typeof t===n&&t()},this.replaceNode=function(e,t,r){if(!t||!t.length)return o.removeNode(e,r);e&&e.length?e.fadeOut(function(){t.css("display","none"),e.replaceWith(t),t.fadeIn(function(){if(typeof r===n)try{r()}catch(i){throw e.stop(),t.stop(),i}})}):typeof r===n&&r()},this.resetProgressBarAll=function(){o.progressbarAll&&o.progressbarAll.progressbar("value",0)},this.hideProgressBarAll=function(t){o.progressbarAll&&!e(l(o)).find(o.progressSelector+":visible:first").length?o.progressbarAll.fadeOut(t):typeof t===n&&t()},this.onAbort=function(e,t,n,r,i){i.removeNode(i.uploadRow,i.hideProgressBarAll)},this.cancelUpload=function(e,t,n,r,i){var s=r.readyState;r.abort(),(typeof s!="number"||s<2)&&i.onAbort(e,t,n,r,i)},this.initProgressBar=function(t,r){return!t||!t.length?null:typeof t.progressbar===n?t.progressbar({value:r}):(t.addClass("progressbar").append(e("<div/>").css("width",r+"%")).progressbar=function(t,n){return this.each(function(){t==="destroy"?e(this).removeClass("progressbar").empty():e(this).children().css("width",n+"%")})},t)},this.destroyProgressBar=function(e){return!e||!e.length?null:e.progressbar("destroy")},this.initUploadProgress=function(e,t){!e.upload&&t.progressbar&&t.progressbar.progressbar("value",100)},this.initUploadProgressAll=function(){o.progressbarAll&&o.progressbarAll.is(":hidden")&&o.progressbarAll.fadeIn()},this.onSend=function(e,t,n,r,i){i.initUploadProgress(r,i)},this.onProgress=function(e,t,n,r,i){i.progressbar&&e.lengthComputable&&i.progressbar.progressbar("value",parseInt(e.loaded/e.total*100,10))},this.onProgressAll=function(e,t){o.progressbarAll&&e.lengthComputable&&o.progressbarAll.progressbar("value",parseInt(e.loaded/e.total*100,10))},this.onLoadAll=function(e){f.complete()},this.initProgressBarAll=function(){o.progressbarAll||(o.progressbarAll=o.initProgressBar(typeof o.progressAllNode===n?o.progressAllNode(o):o.progressAllNode,0))},this.destroyProgressBarAll=function(){o.destroyProgressBar(o.progressbarAll)},this.loadPreviewImage=function(t,n,r){n=n||0,r.uploadRow.find(r.previewSelector).each(function(){var i=e(this),s=t[n];setTimeout(function(){r.loadImage(s,function(t){r.addNode(i,e(t))},r.previewMaxWidth,r.previewMaxHeight,r.imageTypes,!r.previewAsCanvas)},r.previewLoadDelay),n+=1})},this.initUploadRow=function(e,t,r,i,s){var o=s.uploadRow=typeof s.buildUploadRow===n?s.buildUploadRow(t,r,s):null;o&&(s.progressbar=s.initProgressBar(o.find(s.progressSelector),0),o.find(s.cancelSelector).click(function(e){s.cancelUpload(e,t,r,i,s),e.preventDefault()}),s.loadPreviewImage(t,r,s))},this.initUpload=function(e,t,r,i,s,o){s.initUploadRow(e,t,r,i,s),s.addNode(l(s),s.uploadRow,function(){typeof s.beforeSend===n?s.beforeSend(e,t,r,i,s,o):o()}),s.initUploadProgressAll()},this.parseResponse=function(n,r){return typeof n.responseText!==t?e.parseJSON(n.responseText):e.parseJSON(n.contents().text())},this.initDownloadRow=function(e,t,r,i,s){var o,u;try{o=s.response=s.parseResponse(i,s)}catch(a){if(typeof s.onError!==n)throw a;s.originalEvent=e,s.onError(a,t,r,i,s)}u=s.downloadRow=typeof s.buildDownloadRow===n?s.buildDownloadRow(o,s):null},this.onLoad=function(e,t,r,i,s){var o=l(s),u=c(s),a=function(){typeof s.onComplete===n&&s.onComplete(e,t,r,i,s),f.complete()};f.push(Array.prototype.slice.call(arguments,1)),s.initDownloadRow(e,t,r,i,s),o&&s.uploadRow&&s.uploadRow.length&&(!u||o.get(0)===u.get(0))?s.replaceNode(s.uploadRow,s.downloadRow,a):s.removeNode(s.uploadRow,function(){s.addNode(u,s.downloadRow,a)})},this.dropZoneEnlarge=function(){a||(typeof o.dropZone.switchClass===n?o.dropZone.switchClass(o.cssClassSmall,o.cssClassLarge):(o.dropZone.addClass(o.cssClassLarge),o.dropZone.removeClass(o.cssClassSmall)),a=!0)},this.dropZoneReduce=function(){typeof o.dropZone.switchClass===n?o.dropZone.switchClass(o.cssClassLarge,o.cssClassSmall):(o.dropZone.addClass(o.cssClassSmall),o.dropZone.removeClass(o.cssClassLarge)),a=!1},this.onDocumentDragEnter=function(e){o.dropZoneEnlarge()},this.onDocumentDragOver=function(e){u&&clearTimeout(u),u=setTimeout(function(){o.dropZoneReduce()},200)},this.onDragEnter=this.onDragLeave=function(e){o.dropZone.toggleClass(o.cssClassHighlight)},this.onDrop=function(e){u&&clearTimeout(u),o.dropEffect&&typeof o.dropZone.effect===n?o.dropZone.effect(o.dropEffect,function(){o.dropZone.removeClass(o.cssClassHighlight),o.dropZoneReduce()}):(o.dropZone.removeClass(o.cssClassHighlight),o.dropZoneReduce())},this.init=function(){o.initProgressBarAll(),typeof o.initExtended===n&&o.initExtended()},this.destroy=function(){typeof o.destroyExtended===n&&o.destroyExtended(),o.destroyProgressBarAll()},e.extend(this,i)},i={init:function(t){return this.each(function(){e(this).fileUpload(new r(e(this),t))})},option:function(n,r,i){return!n||typeof n=="string"&&typeof r===t?e(this).fileUpload("option",n,r,i):this.each(function(){e(this).fileUpload("option",n,r,i)})},destroy:function(t){return this.each(function(){e(this).fileUpload("destroy",t)})},upload:function(t,n){return this.each(function(){e(this).fileUpload("upload",t,n)})}},e.fn.fileUploadUI=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t=="object"||!t)return i.init.apply(this,arguments);e.error('Method "'+t+'" does not exist on jQuery.fileUploadUI')}}(jQuery),function(e,t,n){function s(e){var t={},r=/^jQuery\d+$/;return n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)}),t}function o(){var e=n(this);e.val()===e.attr("placeholder")&&e.hasClass("placeholder")&&(e.data("placeholder-password")?e.hide().next().show().focus().attr("id",e.removeAttr("id").data("placeholder-id")):e.val("").removeClass("placeholder"))}function u(){var e,t=n(this),r=t,i=this.id;if(t.val()===""){if(t.is(":password")){if(!t.data("placeholder-textinput")){try{e=t.clone().attr({type:"text"})}catch(u){e=n("<input>").attr(n.extend(s(this),{type:"text"}))}e.removeAttr("name").data("placeholder-password",!0).data("placeholder-id",i).bind("focus.placeholder",o),t.data("placeholder-textinput",e).data("placeholder-id",i).before(e)}t=t.removeAttr("id").hide().prev().attr("id",i).show()}t.addClass("placeholder").val(t.attr("placeholder"))}else t.removeClass("placeholder")}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea");r&&i?(n.fn.placeholder=function(){return this},n.fn.placeholder.input=n.fn.placeholder.textarea=!0):(n.fn.placeholder=function(){return this.filter((r?"textarea":":input")+"[placeholder]").bind("focus.placeholder",o).bind("blur.placeholder",u).trigger("blur.placeholder").end()},n.fn.placeholder.input=r,n.fn.placeholder.textarea=i,n(function(){n("form").bind("submit.placeholder",function(){var e=n(".placeholder",this).each(o);setTimeout(function(){e.each(u)},10)})}),n(e).bind("unload.placeholder",function(){n(".placeholder").val("")}))}(this,document,jQuery),function(e){var t={top:"40%",left:"center",closeOnClick:!0,closeOnEsc:!0,load:!1,speed:150,closeSpeed:300,effect:"evaporate",mask:{color:"#000",opacity:.5},onOK:function(e){return!0},onCancel:function(e){return!1},onClose:function(t){var n=this.getConf(),r=t.originalTarget||t.srcElement||t.originalEvent&&t.originalEvent.target,i=r&&e(r).hasClass("cancel")||!1;i?n.onCancel(this):n.onOK(this)}},n=e.fn.overlay,r=function(r){return n.call(this,e.extend({},t,r))};e.fn.overlay=r,e.tools.overlay.addEffect("evaporate",function(t,n){var r=this.getConf(),i=r.speed,s=e(window);r.fixed||(t.top+=s.scrollTop(),t.left+=s.scrollLeft()),t.position=r.fixed?"fixed":"absolute",this.getOverlay().css(t).css({marginTop:0,opacity:0,display:"block"}).animate({marginTop:-50,opacity:1},i,"linear",n)},function(e){var t=this.getOverlay(),n=this.getConf(),r=n.closeSpeed;this.getOverlay().animate({marginTop:-400,opacity:0},r,"linear",function(){t.css({display:"none"}),e.call()})}),e.fn.unpublishOverlay=function(){return this.each(function(){e(this).overlay({onOK:function(t){var n=t.getTrigger().attr("href");e.ajax({type:"delete",url:n,dataType:"script"})}})})},e.fn.photoPickerOverlay=function(t,n){return this.each(function(){var r=e(this),i=function(){var i=e("a.selected",r).first().attr("href");t(new RegExp("^!\\[.*]\\("+i+"\\)$"),/!\[$/,new RegExp("^\\]\\("+i+"\\)"),"![","]("+i+")"),n();return};r.overlay({top:"10%",onLoad:function(){var t=this.getOverlay(),n=t.data("profile_wave_photos_url");e.getJSON(n,function(n){var r=e("#photo-picker-template").mustache(n);t.find("ul").html(r)})},onOK:i,onCancel:function(){return!1}}),e("a",this).live("click",function(t){var n=e(this);t.preventDefault(),n.closest("li").siblings().find("a.selected").removeClass("selected"),n.addClass("selected")}),e("a",this).live("dblclick",function(t){t.preventDefault(),e(this).addClass("selected"),r.data("overlay").close()})})}}(jQuery),function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},xhrFields:{withCredentials:f},crossDomain:a},s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is(":checkbox,:radio")?s.is(":checked"):s.val();if(!o==!r){if(s.is(":radio")&&a.filter('input:radio:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){csrf_token=e("meta[name=csrf-token]").attr("content"),csrf_param=e("meta[name=csrf-param]").attr("content"),e('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery),jQuery(function(e){e('select[name="personage[id]"]',"#sidebar").bind("ajax:before",function(){var t=e(this).find("option").eq(this.selectedIndex).attr("value");return e(this).data("url","/profiles/"+t+"/switch"),!0})}),jQuery(function(e){e('input[type="text"], textarea').placeholder(),e('input[name="personage[persona_attributes][emailable]"], input[name="personage[persona_attributes][featured]"]').bind("ajax:before",function(){var t=e(this);return t.data("params",this.name+"="+this.checked+"&personage[persona_attributes][id]="+t.data("persona_id")),!0}),e('input[name="personage[state]"]').bind("ajax:before",function(){return e(this).data("params",this.name+"="+(this.checked?"enable!":"disable!")),!0}).bind("ajax:success",function(e,t){t.state!==undefined&&document.location.reload(!0)}),e('button[rel="#delete_profile_overlay"]').overlay(),e("form#new_posting_avatar").fileUploadUI({dropEffect:null,dropZone:e(".dropzone"),uploadTable:e("ul#upload_posting_avatar"),downloadTable:e("ul#upload_posting_avatar"),beforeSend:function(t,n,r,i,s,o){var u=function(){e("ul#upload_posting_avatar img").animate({opacity:.6},300).animate({opacity:1},300)};s.pulseCycleId=setInterval(u,600),o()},onComplete:function(e,t,n,r,i){clearInterval(i.pulseCycleId)},buildUploadRow:function(e,t,n){return},buildDownloadRow:function(t,n){return e("ul#upload_posting_avatar").empty(),e("input#personage_persona_attributes_avatar_id").val(t.avatar_id),e("img."+t.pid,"#sidebar").attr("src",t.url),e('<li><img src="'+t.url+'" height="190" width="190" title="'+t.title+'"></li>')}}).find("input#avatar_upload_submit").hide(),e("form#new_posting_invitation").bind("ajax:before",function(){var t=e(this),n=t.find("input#li_eq").val();t.find(".button-bar, input#posting_invitation_body").hide().end().find("li:eq("+n+") img.thumb").pulse()}).find(".button-bar, input#posting_invitation_body").hide().end().find("a.new_posting_invitation, a.edit_posting_invitation").click(function(t){var n=e(t.target),r=n.closest("li").prevAll("li").length,i=n.attr("title"),s=n.data("url"),o=n.data("method");t.preventDefault(),n.closest("form").attr("action",s).find("input#li_eq").val(r).end().find('input[name="_method"]').attr("value",o).end().find("input#posting_invitation_body").val(i).end().find("p.instructions").hide().end().find(".button-bar, input#posting_invitation_body").show().placeholder()})});